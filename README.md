# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –Ω–æ–º–µ—Ä 3

# –ê—Å—Å–µ–º–±–ª–µ—Ä –∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –¥–ª—è –£—á–µ–±–Ω–æ–π –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –ú–∞—à–∏–Ω—ã (–£–í–ú)

## –í–∞—Ä–∏–∞–Ω—Ç 3

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∞—Å—Å–µ–º–±–ª–µ—Ä –∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –¥–ª—è —É—á–µ–±–Ω–æ–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã —Å–æ–≥–ª–∞—Å–Ω–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –£–í–ú.

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —ç—Ç–∞–ø—ã:

#### üéØ –≠—Ç–∞–ø 1: –ü–µ—Ä–µ–≤–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å CLI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞—Å—Å–µ–º–±–ª–µ—Ä–∞ —Å —Ä–∞–∑–±–æ—Ä–æ–º —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥.

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–æ CLI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
- ‚úÖ –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—ã–π —è–∑—ã–∫ –∞—Å—Å–µ–º–±–ª–µ—Ä–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ YAML
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∞–Ω—ã –≤—Å–µ 4 –∫–æ–º–∞–Ω–¥—ã —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –£–í–ú
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Ç—Ä–∞–Ω—Å–ª—è—Ç–æ—Ä YAML ‚Üí –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
- ‚úÖ –†–µ–∂–∏–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –≤—ã–≤–æ–¥–æ–º –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ –¢–µ—Å—Ç–æ–≤–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∏–∑ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –£–í–ú

#### üéØ –≠—Ç–∞–ø 2: –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—à–∏–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥ –≤ –∏—Ö –¥–≤–æ–∏—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ.

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ:**
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Ç—Ä–∞–Ω—Å–ª—è—Ç–æ—Ä –∏–∑ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ –≤ –º–∞—à–∏–Ω–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∑–∞–ø–∏—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∞—Å—Å–µ–º–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –¥–≤–æ–∏—á–Ω—ã–π —Ñ–∞–π–ª
- ‚úÖ –í—ã–≤–æ–¥ —Ä–∞–∑–º–µ—Ä–∞ –¥–≤–æ–∏—á–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –≤ –±–∞–π—Ç–∞—Ö
- ‚úÖ –†–µ–∂–∏–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –≤—ã–≤–æ–¥–æ–º –±–∞–π—Ç–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `0xDD, 0x80, ...`
- ‚úÖ –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `test_program.yaml`, —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤—Å–µ–º —Ç–µ—Å—Ç–æ–≤—ã–º –±–∞–π—Ç–æ–≤—ã–º –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è–º –∏–∑ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –£–í–ú

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
- ‚úÖ LOAD_CONST (29, 515, 4): `0xDD, 0x80, 0x00, 0x10`
- ‚úÖ READ_MEM (18, 0, 2): `0x12, 0x10, 0x00, 0x00`
- ‚úÖ WRITE_MEM (9, 13, 24): `0x49, 0xC3, 0x00, 0x00`
- ‚úÖ ABS (25, 26, 22): `0x99, 0xB6, 0x00, 0x00`

#### üéØ –≠—Ç–∞–ø 3: –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–∞–º—è—Ç—å—é
**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å —Ü–∏–∫–ª –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏, —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–æ–¥–µ–ª—å –ø–∞–º—è—Ç–∏ –£–í–ú –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –±–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã.

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ:**
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:
  - –ü—É—Ç—å –∫ –±–∏–Ω–∞—Ä–Ω–æ–º—É —Ñ–∞–π–ª—É —Å –ø—Ä–æ–≥—Ä–∞–º–º–æ–π
  - –û–ø—Ü–∏–∏ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–º–ø–∞ –ø–∞–º—è—Ç–∏
  - –î–∏–∞–ø–∞–∑–æ–Ω –∞–¥—Ä–µ—Å–æ–≤ –¥–ª—è –¥–∞–º–ø–∞
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Ñ–æ—Ä–º–∞—Ç XML –¥–ª—è –¥–∞–º–ø–∞ –ø–∞–º—è—Ç–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –º–æ–¥–µ–ª—å –ø–∞–º—è—Ç–∏ –£–í–ú —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –ø–∞–º—è—Ç–∏ –∫–æ–º–∞–Ω–¥ –∏ –¥–∞–Ω–Ω—ã—Ö
  - –ü–∞–º—è—Ç—å –∫–æ–º–∞–Ω–¥: `code_memory` (bytearray)
  - –ü–∞–º—è—Ç—å –¥–∞–Ω–Ω—ã—Ö: `data_memory` (—Å–ø–∏—Å–æ–∫ 32-–±–∏—Ç–Ω—ã—Ö —Å–ª–æ–≤)
  - –†–µ–≥–∏—Å—Ç—Ä—ã: 32 —Ä–µ–≥–∏—Å—Ç—Ä–∞ (R0-R31)
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞:
  1. –ß—Ç–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã –∏–∑ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
  2. –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
  3. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–æ–º–∞–Ω–¥—ã:
  - `LOAD_CONST`: –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ —Ä–µ–≥–∏—Å—Ç—Ä
  - `READ_MEM`: –ß—Ç–µ–Ω–∏–µ –∏–∑ –ø–∞–º—è—Ç–∏ –≤ —Ä–µ–≥–∏—Å—Ç—Ä
  - `WRITE_MEM`: –ó–∞–ø–∏—Å—å –∏–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞ –≤ –ø–∞–º—è—Ç—å
- ‚úÖ –ù–∞–ø–∏—Å–∞–Ω–∞ —Ç–µ—Å—Ç–æ–≤–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ `test_copy_array.yaml` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π —Å –ø–∞–º—è—Ç—å—é
- ‚úÖ –°–æ–∑–¥–∞–Ω –¥–∞–º–ø –ø–∞–º—è—Ç–∏ –≤ XML —Ñ–æ—Ä–º–∞—Ç–µ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞:**
1. **UVMMemory**: –ú–æ–¥–µ–ª—å –ø–∞–º—è—Ç–∏ –£–í–ú
   - `load_program()`: –ó–∞–≥—Ä—É–∑–∫–∞ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –∫–æ–¥–∞
   - `read_instruction()`: –ß—Ç–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
   - `decode_instruction()`: –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
   - `execute_*()`: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥
   - `dump_memory_xml()`: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–º–ø–∞ –≤ XML

2. **InterpreterCLI**: CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞

3. **–¢–µ—Å—Ç–æ–≤–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞**: –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —è—á–µ–π–∫–∞–º–∏ –ø–∞–º—è—Ç–∏


#### üéØ –≠—Ç–∞–ø 4: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ê–õ–£ (abs())
*–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ...*

#### üéØ –≠—Ç–∞–ø 5: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–π –∑–∞–¥–∞—á–∏
*–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ...*

#### üìã –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –£–í–ú (–í–∞—Ä–∏–∞–Ω—Ç 3)

*–í—Å–µ –∫–æ–º–∞–Ω–¥—ã –∏–º–µ—é—Ç —Ä–∞–∑–º–µ—Ä 4 –±–∞–π—Ç–∞*

1. **–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã** (–∫–æ–¥ 29)
   - –§–æ—Ä–º–∞—Ç: `A=29, B=–∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞, C=–∞–¥—Ä–µ—Å`
   - –û–ø–µ—Ä–∞—Ü–∏—è: `R[C] = B`
   - –¢–µ—Å—Ç: `A=29, B=515, C=4` ‚Üí `0xDD, 0x80, 0x00, 0x10`

2. **–ß—Ç–µ–Ω–∏–µ –∏–∑ –ø–∞–º—è—Ç–∏** (–∫–æ–¥ 18)
   - –§–æ—Ä–º–∞—Ç: `A=18, B=–∞–¥—Ä–µ—Å_—Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞, C=–∞–¥—Ä–µ—Å_–ø–∞–º—è—Ç–∏`
   - –û–ø–µ—Ä–∞—Ü–∏—è: `R[B] = M[R[C]]`
   - –¢–µ—Å—Ç: `A=18, B=0, C=2` ‚Üí `0x12, 0x10, 0x00, 0x00`

3. **–ó–∞–ø–∏—Å—å –≤ –ø–∞–º—è—Ç—å** (–∫–æ–¥ 9)
   - –§–æ—Ä–º–∞—Ç: `A=9, B=–∞–¥—Ä–µ—Å_–ø–∞–º—è—Ç–∏, C=–∞–¥—Ä–µ—Å_–∏—Å—Ç–æ—á–Ω–∏–∫–∞`
   - –û–ø–µ—Ä–∞—Ü–∏—è: `M[R[B]] = R[C]`
   - –¢–µ—Å—Ç: `A=9, B=13, C=24` ‚Üí `0x49, 0xC3, 0x00, 0x00`

4. **–ê–±—Å–æ–ª—é—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ** (–∫–æ–¥ 25)
   - –§–æ—Ä–º–∞—Ç: `A=25, B=–∞–¥—Ä–µ—Å_–ø–∞–º—è—Ç–∏, C=–∞–¥—Ä–µ—Å_–∏—Å—Ç–æ—á–Ω–∏–∫–∞`
   - –û–ø–µ—Ä–∞—Ü–∏—è: `M[R[B]] = abs(R[C])`
   - –¢–µ—Å—Ç: `A=25, B=26, C=22` ‚Üí `0x99, 0xB6, 0x00, 0x00`

### –ó–∞–ø—É—Å–∫

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install pyyaml

# ========== –≠—Ç–∞–ø—ã 1-2: –ê—Å—Å–µ–º–±–ª–µ—Ä ==========
# –ê—Å—Å–µ–º–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã
python assembler.py test_program.yaml output.bin --test

# –ê—Å—Å–µ–º–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –º–∞—Å—Å–∏–≤–∞
python assembler.py test_copy_array.yaml copy_array.bin

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
xxd output.bin
hexdump -C output.bin

# ========== –≠—Ç–∞–ø 3: –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä ==========
# –ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞ —Å —Ç–µ—Å—Ç–æ–≤–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π
python interpreter.py output.bin

# –ó–∞–ø—É—Å–∫ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–º–ø–∞ –ø–∞–º—è—Ç–∏
python interpreter.py output.bin --dump-memory

# –ó–∞–ø—É—Å–∫ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –¥–∞–º–ø–∞
python interpreter.py output.bin --dump-memory --dump-start 0 --dump-end 32 --dump-output custom_dump.xml

# –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –º–∞—Å—Å–∏–≤–∞
python assembler.py test_copy_array.yaml copy_array.bin
python interpreter.py copy_array.bin --dump-memory --verbose

# –ü—Ä–æ–≤–µ—Ä–∫–∞ XML –¥–∞–º–ø–∞
cat memory_dump.xml